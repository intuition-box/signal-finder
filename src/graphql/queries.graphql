# src/graphql/queries.graphql

query GetHeavyweightTerms {
  terms(limit: 10, order_by: {total_market_cap: desc}) {
    id
    total_market_cap
    atom { label image }
    positions_aggregate { aggregate { count } }
    positions(order_by: {created_at: asc}, limit: 1000) {
      account_id
      shares
      created_at
    }
  }
}

query GetActiveTerms {
  terms(limit: 100, order_by: {updated_at: desc}) {
    id
    updated_at
    total_market_cap
    atom { label image }
    positions_aggregate { aggregate { count } }
    positions(order_by: {created_at: asc}, limit: 1000) {
      account_id
      shares
      created_at
    }
  }
}

# âš¡ NEW: Subscription for the live feed
subscription NewClaimsSubscription {
  newTriples(limit: 10, order_by: { id: desc }) {
    id
    type
    atom {
      label
    }
    subject {
      label
    }
    predicate {
      label
    }
    object {
      label
    }
  }
}